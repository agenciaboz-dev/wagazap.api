// *** GENERATED BY PRISMIX :: DO NOT EDIT ***
datasource db {
	provider = "mysql"
	url = env("DATABASE_URL")
}
generator client {
	provider = "prisma-client-js"
	previewFeatures = ["fullTextSearch","fullTextIndex"]
}

model Nagazap {
    id          Int         @id @default(autoincrement())
    token       String      @db.Text
    lastUpdated String      
    appId       String      
    phoneId     String      
    businessId String      
    stack       String      @db.LongText 
    blacklist   String      @db.LongText 
    frequency   String      
    batchSize   Int         
    lastMessageTime String  
    paused      Boolean     
    sentMessages    String  @db.LongText
    failedMessages    String  @db.LongText
    receivedMessages    NagazapMessage[]

    userId      String
    user        User        @relation(fields: [userId], references: [id], onDelete: Cascade)
}

model NagazapMessage {
    id          Int         @id @default(autoincrement())
    name        String
    from        String
    timestamp   String
    text        String      @db.LongText
    nagazap_id  Int
    nagazap     Nagazap     @relation(fields: [nagazap_id], references: [id], onDelete: Cascade)
}


model Washima {
    id              String              @id
    name            String
    number          String
    created_at      String
    active          Boolean             @default(true)

    users           User[]

}

model WashimaMedia {
    message_id  String      @id
    filename    String
    data        String      @db.LongText
    mimetype    String
    washima_id  String
}

model WashimaProfilePic {
    chat_id         String      @id
    last_updated    String
    url             String      @db.LongText
    washima_id      String
}

model WashimaMessage {
    sid         String          @id
    washima_id  String
    chat_id     String          @db.Text

    id          String          @db.LongText
    author      String?
    body        String          @db.LongText
    from        String
    fromMe      Boolean
    hasMedia    Boolean
    timestamp   String
    to          String
    type        String
    ack         Int?

    @@fulltext([body])
}

model WashimaGroupUpdates {
    sid         String          @id
    washima_id  String
    chat_id     String          @db.Text

    id          String          @db.LongText
    author      String
    body        String          @db.LongText
    recipientIds String         @db.LongText
    timestamp   String
    type        String
}

model User {
    id          String          @id
    name        String
    email       String          @unique
    password    String          @db.Text
    admin       Boolean         @default(false)

    washimas    Washima[]
    nagazaps    Nagazap[]
}